import{qb as Jt}from"./chunk-4LGCJMV5.js";import{Sb as ut,gg as Xe}from"./chunk-E7P2HYXN.js";import{a as p,b as T,c as qt,d as ge,e as w}from"./chunk-SVM3HCG7.js";var _,ft=w(()=>{"use strict";_={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]}});var yt,mt,Xt=w(()=>{"use strict";ft();yt={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;let n=e.find(o=>o.caipNetworkId===t);if(n)return n.name;let[r]=t.split(":");return _.CHAIN_NAME_MAP?.[r]||void 0}},mt=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"]});function Qe(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}function ze(){return typeof window<"u"&&typeof localStorage<"u"}var E,h,zt=w(()=>{"use strict";E={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"};h={setItem(e,t){ze()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(ze())return localStorage.getItem(e)||void 0},removeItem(e){ze()&&localStorage.removeItem(e)},clear(){ze()&&localStorage.clear()}}});function en(){function e(t){var n=this;if(!(n instanceof e))return t===we?en():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(xe+"value");t=t===0&&1/t<0?"-0":String(t)}ar(n,t)}n.constructor=e}return e.prototype=W,e.DP=Zn,e.RM=er,e.NE=tr,e.PE=nr,e.strict=rr,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function ar(e,t){var n,r,o;if(!sr.test(t))throw Error(xe+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),o=t.length,r=0;r<o&&t.charAt(r)=="0";)++r;if(r==o)e.c=[e.e=0];else{for(;o>0&&t.charAt(--o)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=o;)e.c[n++]=+t.charAt(r++)}return e}function Be(e,t,n,r){var o=e.c;if(n===we&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(or);if(t<1)r=n===3&&(r||!!o[0])||t===0&&(n===1&&o[0]>=5||n===2&&(o[0]>5||o[0]===5&&(r||o[1]!==we))),o.length=1,r?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(r=n===1&&o[t]>=5||n===2&&(o[t]>5||o[t]===5&&(r||o[t+1]!==we||o[t-1]&1))||n===3&&(r||!!o[0]),o.length=t,r){for(;++o[--t]>9;)if(o[t]=0,t===0){++e.e,o.unshift(1);break}}for(t=o.length;!o[--t];)o.pop()}return e}function Fe(e,t,n){var r=e.e,o=e.c.join(""),s=o.length;if(t)o=o.charAt(0)+(s>1?"."+o.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)o="0"+o;o="0."+o}else if(r>0)if(++r>s)for(r-=s;r--;)o+="0";else r<s&&(o=o.slice(0,r)+"."+o.slice(r));else s>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}var Zn,er,Le,Qt,tr,nr,rr,Ze,xe,Ct,or,Zt,W,we,sr,ir,Te,tn=w(()=>{"use strict";Zn=20,er=1,Le=1e6,Qt=1e6,tr=-7,nr=21,rr=!1,Ze="[big.js] ",xe=Ze+"Invalid ",Ct=xe+"decimal places",or=xe+"rounding mode",Zt=Ze+"Division by zero",W={},we=void 0,sr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;W.abs=function(){var e=new this.constructor(this);return e.s=1,e};W.cmp=function(e){var t,n=this,r=n.c,o=(e=new n.constructor(e)).c,s=n.s,a=e.s,i=n.e,l=e.e;if(!r[0]||!o[0])return r[0]?s:o[0]?-a:0;if(s!=a)return s;if(t=s<0,i!=l)return i>l^t?1:-1;for(a=(i=r.length)<(l=o.length)?i:l,s=-1;++s<a;)if(r[s]!=o[s])return r[s]>o[s]^t?1:-1;return i==l?0:i>l^t?1:-1};W.div=function(e){var t=this,n=t.constructor,r=t.c,o=(e=new n(e)).c,s=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>Le)throw Error(Ct);if(!o[0])throw Error(Zt);if(!r[0])return e.s=s,e.c=[e.e=0],e;var i,l,d,f,m,j=o.slice(),Ie=i=o.length,Q=r.length,D=r.slice(0,i),k=D.length,F=e,G=F.c=[],re=0,Se=a+(F.e=t.e-e.e)+1;for(F.s=s,s=Se<0?0:Se,j.unshift(0);k++<i;)D.push(0);do{for(d=0;d<10;d++){if(i!=(k=D.length))f=i>k?1:-1;else for(m=-1,f=0;++m<i;)if(o[m]!=D[m]){f=o[m]>D[m]?1:-1;break}if(f<0){for(l=k==i?o:j;k;){if(D[--k]<l[k]){for(m=k;m&&!D[--m];)D[m]=9;--D[m],D[k]+=10}D[k]-=l[k]}for(;!D[0];)D.shift()}else break}G[re++]=f?d:++d,D[0]&&f?D[k]=r[Ie]||0:D=[r[Ie]]}while((Ie++<Q||D[0]!==we)&&s--);return!G[0]&&re!=1&&(G.shift(),F.e--,Se--),re>Se&&Be(F,Se,n.RM,D[0]!==we),F};W.eq=function(e){return this.cmp(e)===0};W.gt=function(e){return this.cmp(e)>0};W.gte=function(e){return this.cmp(e)>-1};W.lt=function(e){return this.cmp(e)<0};W.lte=function(e){return this.cmp(e)<1};W.minus=W.sub=function(e){var t,n,r,o,s=this,a=s.constructor,i=s.s,l=(e=new a(e)).s;if(i!=l)return e.s=-l,s.plus(e);var d=s.c.slice(),f=s.e,m=e.c,j=e.e;if(!d[0]||!m[0])return m[0]?e.s=-l:d[0]?e=new a(s):e.s=1,e;if(i=f-j){for((o=i<0)?(i=-i,r=d):(j=f,r=m),r.reverse(),l=i;l--;)r.push(0);r.reverse()}else for(n=((o=d.length<m.length)?d:m).length,i=l=0;l<n;l++)if(d[l]!=m[l]){o=d[l]<m[l];break}if(o&&(r=d,d=m,m=r,e.s=-e.s),(l=(n=m.length)-(t=d.length))>0)for(;l--;)d[t++]=0;for(l=t;n>i;){if(d[--n]<m[n]){for(t=n;t&&!d[--t];)d[t]=9;--d[t],d[n]+=10}d[n]-=m[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;)d.shift(),--j;return d[0]||(e.s=1,d=[j=0]),e.c=d,e.e=j,e};W.mod=function(e){var t,n=this,r=n.constructor,o=n.s,s=(e=new r(e)).s;if(!e.c[0])throw Error(Zt);return n.s=e.s=1,t=e.cmp(n)==1,n.s=o,e.s=s,t?new r(n):(o=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=o,r.RM=s,this.minus(n.times(e)))};W.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};W.plus=W.add=function(e){var t,n,r,o=this,s=o.constructor;if(e=new s(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var a=o.e,i=o.c,l=e.e,d=e.c;if(!i[0]||!d[0])return d[0]||(i[0]?e=new s(o):e.s=o.s),e;if(i=i.slice(),t=a-l){for(t>0?(l=a,r=d):(t=-t,r=i),r.reverse();t--;)r.push(0);r.reverse()}for(i.length-d.length<0&&(r=d,d=i,i=r),t=d.length,n=0;t;i[t]%=10)n=(i[--t]=i[t]+d[t]+n)/10|0;for(n&&(i.unshift(n),++l),t=i.length;i[--t]===0;)i.pop();return e.c=i,e.e=l,e};W.pow=function(e){var t=this,n=new t.constructor("1"),r=n,o=e<0;if(e!==~~e||e<-Qt||e>Qt)throw Error(xe+"exponent");for(o&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return o?n.div(r):r};W.prec=function(e,t){if(e!==~~e||e<1||e>Le)throw Error(xe+"precision");return Be(new this.constructor(this),e,t)};W.round=function(e,t){if(e===we)e=0;else if(e!==~~e||e<-Le||e>Le)throw Error(Ct);return Be(new this.constructor(this),e+this.e+1,t)};W.sqrt=function(){var e,t,n,r=this,o=r.constructor,s=r.s,a=r.e,i=new o("0.5");if(!r.c[0])return new o(r);if(s<0)throw Error(Ze+"No square root");s=Math.sqrt(+Fe(r,!0,!0)),s===0||s===1/0?(t=r.c.join(""),t.length+a&1||(t+="0"),s=Math.sqrt(t),a=((a+1)/2|0)-(a<0||a&1),e=new o((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+a)):e=new o(s+""),a=e.e+(o.DP+=4);do n=e,e=i.times(n.plus(r.div(n)));while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return Be(e,(o.DP-=4)+e.e+1,o.RM)};W.times=W.mul=function(e){var t,n=this,r=n.constructor,o=n.c,s=(e=new r(e)).c,a=o.length,i=s.length,l=n.e,d=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!s[0])return e.c=[e.e=0],e;for(e.e=l+d,a<i&&(t=o,o=s,s=t,d=a,a=i,i=d),t=new Array(d=a+i);d--;)t[d]=0;for(l=i;l--;){for(i=0,d=a+l;d>l;)i=t[d]+s[l]*o[d-l-1]+i,t[d--]=i%10,i=i/10|0;t[d]=i}for(i?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e};W.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==we){if(e!==~~e||e<0||e>Le)throw Error(Ct);for(n=Be(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Fe(n,!0,!!r)};W.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==we){if(e!==~~e||e<0||e>Le)throw Error(Ct);for(n=Be(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Fe(n,!1,!!r)};W[Symbol.for("nodejs.util.inspect.custom")]=W.toJSON=W.toString=function(){var e=this,t=e.constructor;return Fe(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};W.toNumber=function(){var e=+Fe(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Ze+"Imprecise conversion");return e};W.toPrecision=function(e,t){var n=this,r=n.constructor,o=n.c[0];if(e!==we){if(e!==~~e||e<1||e>Le)throw Error(xe+"precision");for(n=Be(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Fe(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!o)};W.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Ze+"valueOf disallowed");return Fe(e,e.e<=t.NE||e.e>=t.PE,!0)};ir=en(),Te=ir});var Ot,nn=w(()=>{"use strict";tn();Ot={bigNumber(e){return e?new Te(e):new Te(0)},multiply(e,t){if(e===void 0||t===void 0)return new Te(0);let n=new Te(e),r=new Te(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Te(0).toFixed(t):new Te(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;let t=e.replace(/,/gu,"");return new Te(t).toNumber()}}});var rn,on=w(()=>{"use strict";rn=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}]});var sn,an=w(()=>{"use strict";sn=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]});var cn,ln=w(()=>{"use strict";cn=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}]});var vt,dn=w(()=>{"use strict";on();an();ln();ft();vt={getERC20Abi:e=>_.USDT_CONTRACT_ADDRESSES.includes(e)?cn:rn,getSwapAbi:()=>sn}});var oe,pn=w(()=>{"use strict";oe={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);let[n,r,o]=t;if(!n||!r||!o)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:o}},parseCaipNetworkId(e){let t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);let[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}}});var he,kt,et,un=w(()=>{"use strict";he={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){let t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(he.isRpcProviderError(e)){let t=e.code===he.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===he.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||he.isUserRejectedMessage(e.message)}return e instanceof Error?he.isUserRejectedMessage(e.message):!1}},kt=class extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=he.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}},et=class extends kt{constructor(t){super(t,{code:he.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=he.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}});function We(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var fn=w(()=>{"use strict"});var Z=w(()=>{"use strict";Xt();nn();dn();ft();pn();un();zt();fn()});var C,Re=w(()=>{"use strict";Z();C={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){let e=C.getActiveNamespace(),t=C.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{h.setItem(E.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=h.getItem(E.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{h.removeItem(E.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{h.setItem(E.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{h.setItem(E.ACTIVE_CAIP_NETWORK_ID,e),C.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return h.getItem(E.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{h.removeItem(E.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=Qe(e);h.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=C.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),h.setItem(E.RECENT_WALLETS,JSON.stringify(t)),h.setItem(E.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=h.getItem(E.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=h.getItem(E.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{h.removeItem(E.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let n=Qe(e);h.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return h.getItem(E.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=Qe(e);return h.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{h.setItem(E.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return h.getItem(E.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{h.removeItem(E.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return h.getItem(E.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return h.getItem(E.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{h.setItem(E.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return h.getItem(E.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=h.getItem(E.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));h.setItem(E.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=C.getConnectedNamespaces();t.includes(e)||(t.push(e),C.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=C.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),C.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return h.getItem(E.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{h.setItem(E.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{h.removeItem(E.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=h.getItem(E.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=C.getBalanceCache();h.setItem(E.PORTFOLIO_CACHE,JSON.stringify(T(p({},t),{[e]:void 0})))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let n=C.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;C.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=C.getBalanceCache();t[e.caipAddress]=e,h.setItem(E.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=h.getItem(E.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=C.getBalanceCache();h.setItem(E.NATIVE_BALANCE_CACHE,JSON.stringify(T(p({},t),{[e]:void 0})))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let n=C.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),C.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=C.getNativeBalanceCache();t[e.caipAddress]=e,h.setItem(E.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=h.getItem(E.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let n=C.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;C.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=C.getEnsCache();t[e.address]=e,h.setItem(E.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=C.getEnsCache();h.setItem(E.ENS_CACHE,JSON.stringify(T(p({},t),{[e]:void 0})))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=h.getItem(E.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let n=C.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;C.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=C.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},h.setItem(E.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=C.getIdentityCache();h.setItem(E.IDENTITY_CACHE,JSON.stringify(T(p({},t),{[e]:void 0})))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{h.removeItem(E.PORTFOLIO_CACHE),h.removeItem(E.NATIVE_BALANCE_CACHE),h.removeItem(E.ENS_CACHE),h.removeItem(E.IDENTITY_CACHE),h.removeItem(E.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{h.setItem(E.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=h.getItem(E.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{let n=C.getConnections(),r=n[t]??[],o=new Map;for(let a of r)o.set(a.connectorId,p({},a));for(let a of e){let i=o.get(a.connectorId),l=a.connectorId===_.CONNECTOR_ID.AUTH;if(i&&!l){let d=new Set(i.accounts.map(m=>m.address.toLowerCase())),f=a.accounts.filter(m=>!d.has(m.address.toLowerCase()));i.accounts.push(...f)}else o.set(a.connectorId,p({},a))}let s=T(p({},n),{[t]:Array.from(o.values())});h.setItem(E.CONNECTIONS,JSON.stringify(s))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{let e=h.getItem(E.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{let r=C.getConnections(),o=r[n]??[],s=new Map(o.map(i=>[i.connectorId,i])),a=s.get(e);a&&(a.accounts.filter(l=>l.address.toLowerCase()!==t.toLowerCase()).length===0?s.delete(e):s.set(e,T(p({},a),{accounts:a.accounts.filter(l=>l.address.toLowerCase()!==t.toLowerCase())}))),h.setItem(E.CONNECTIONS,JSON.stringify(T(p({},r),{[n]:Array.from(s.values())})))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{let e=h.getItem(E.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let n=C.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),h.setItem(E.DISCONNECTED_CONNECTOR_IDS,JSON.stringify(T(p({},n),{[t]:Array.from(new Set(r))})))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let n=C.getDisconnectedConnectorIds(),r=n[t]??[];r=r.filter(o=>o.toLowerCase()!==e.toLowerCase()),h.setItem(E.DISCONNECTED_CONNECTOR_IDS,JSON.stringify(T(p({},n),{[t]:Array.from(new Set(r))})))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(C.getDisconnectedConnectorIds()[t]??[]).some(o=>o.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=h.getItem(E.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let r=C.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;C.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{let o=C.getTransactionsCache();o[e]=T(p({},o[e]),{[t]:{timestamp:n,transactions:r}}),h.setItem(E.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(o))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{let r=C.getTransactionsCache(),n=r?.[e]||{},{[t]:s}=n,a=ge(n,[qt(t)]);h.setItem(E.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(T(p({},r),{[e]:a})))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=h.getItem(E.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let n=C.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;C.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=C.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},h.setItem(E.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=C.getTokenPriceCache();h.setItem(E.TOKEN_PRICE_CACHE,JSON.stringify(T(p({},t),{[e.join(",")]:void 0})))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=h.getItem(E.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=C.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,h.setItem(E.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}}});var bt,wo,_o,$,ye=w(()=>{"use strict";Z();bt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",wo=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],_o="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",$={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:bt,SECURE_SITE_DASHBOARD:`${bt}/dashboard`,SECURE_SITE_FAVICON:`${bt}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD\u20AE0"]},BALANCE_SUPPORTED_CHAINS:[_.CHAIN.EVM,_.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[_.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[_.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[_.CHAIN.EVM,_.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[_.CHAIN.EVM,_.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[_.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[_.CHAIN.EVM,_.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}}});var N,de=w(()=>{"use strict";Z();ye();Re();N={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return N.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=$.TEN_SEC_MS:!0},isAllowedRetry(e,t=$.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(N.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){let n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+$.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function o(){e(...r)}n&&clearTimeout(n),n=setTimeout(o,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(N.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,o=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),o&&!o?.endsWith("/")&&(o=`${o}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let s=encodeURIComponent(t);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:o?`${o}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(e,t){if(!N.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);let r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?C.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;let e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){let t=new Promise((n,r)=>{let o=new Image;o.onload=n,o.onerror=r,o.crossOrigin="anonymous",o.src=e});return Promise.race([t,N.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){let l=Number(e);if(!isNaN(l)){let d=(Math.floor(l*1e3)/1e3).toFixed(3);d&&(n=d)}}let[r,o]=n.split("."),s=r||"0",a=o||"000";return{formattedText:`${s}.${a}${t?` ${t}`:""}`,value:s,decimals:a,symbol:t}},getApiUrl(){return _.W3M_API_URL},getBlockchainApiUrl(){return _.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return _.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){let n={};return t&&e&&(e.forEach((r,o)=>{n[r]=o}),t.sort((r,o)=>{let s=n[r.id],a=n[o.id];return s!==void 0&&a!==void 0?s-a:s!==void 0?-1:a!==void 0?1:0})),t},calculateBalance(e){let t=0;for(let n of e)t+=n.value??0;return t},formatTokenBalance(e){let t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){let n=new Set;return e.filter(r=>{let o=r[t];return n.has(o)?!1:(n.add(o),!0)})},generateSdkVersion(e,t,n){let o=e.length===0?$.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${o}-${n}`},createAccount(e,t,n,r,o){return{namespace:e,address:t,type:n,publicKey:r,path:o}},isCaipAddress(e){if(typeof e!="string")return!1;let t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in _.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){let o="provider_authorization_url=",s=e.substring(e.indexOf(o)+o.length),a=this.injectIntoUrl(decodeURIComponent(s),n,t);return e.replace(s,encodeURIComponent(a))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){let r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);let o=e.indexOf("&",r),s=t.length,a=o!==-1?o:e.length,i=e.substring(0,r+s),l=e.substring(r+s,a),d=e.substring(o),f=l+n;return i+f+d}}});var Oo,cr,mn,Ut,lr,Cn,Pt,hn=w(()=>{"use strict";Oo=Symbol(),cr=Symbol(),mn=Object.getPrototypeOf,Ut=new WeakMap,lr=e=>e&&(Ut.has(e)?Ut.get(e):mn(e)===Object.prototype||mn(e)===Array.prototype),Cn=e=>lr(e)&&e[cr]||null,Pt=(e,t=!0)=>{Ut.set(e,t)}});function b(e={}){if(!Mt(e))throw new Error("object required");let t=tt.get(e);if(t)return t;let n=ht[0],r=new Set,o=(k,F=++ht[0])=>{n!==F&&(s=n=F,r.forEach(G=>G(k,F)))},s=n,a=(k=ht[0])=>(s!==k&&(s=k,l.forEach(([F])=>{let G=F[1](k);G>n&&(n=G)})),n),i=k=>(F,G)=>{let re=[...F];re[1]=[k,...re[1]],o(re,G)},l=new Map,d=(k,F)=>{let G=!nt.has(F)&&be.get(F);if(G){if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&l.has(k))throw new Error("prop listener already exists");if(r.size){let re=G[2](i(k));l.set(k,[G,re])}else l.set(k,[G])}},f=k=>{var F;let G=l.get(k);G&&(l.delete(k),(F=G[1])==null||F.call(G))},m=k=>(r.add(k),r.size===1&&l.forEach(([G,re],Se)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&re)throw new Error("remove already exists");let Qn=G[2](i(Se));l.set(Se,[G,Qn])}),()=>{r.delete(k),r.size===0&&l.forEach(([G,re],Se)=>{re&&(re(),l.set(Se,[G]))})}),j=!0,Ie=Cr(()=>j,d,f,o),Q=ur(e,Ie);tt.set(e,Q);let D=[e,a,m];return be.set(Q,D),Reflect.ownKeys(e).forEach(k=>{let F=Object.getOwnPropertyDescriptor(e,k);"value"in F&&F.writable&&(Q[k]=e[k])}),j=!1,Q}function H(e,t,n){let r=be.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!r&&console.warn("Please use proxy object");let o,s=[],a=r[2],i=!1,d=a(f=>{if(s.push(f),n){t(s.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,i&&t(s.splice(0))}))});return i=!0,()=>{i=!1,d()}}function _e(e){let t=be.get(e);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!t&&console.warn("Please use proxy object");let[n,r]=t;return mr(n,r())}function Oe(e){return nt.add(e),e}function Lt(){return{proxyStateMap:be,refSet:nt,snapCache:Dt,versionHolder:ht,proxyCache:tt}}var Mt,dr,An,pr,be,nt,Dt,ht,tt,En,ur,fr,mr,Cr,J=w(()=>{"use strict";hn();Mt=e=>typeof e=="object"&&e!==null,dr=e=>Mt(e)&&!nt.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),An=(e,t)=>{let n=Dt.get(e);if(n?.[0]===t)return n[1];let r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return Pt(r,!0),Dt.set(e,[t,r]),Reflect.ownKeys(e).forEach(o=>{if(Object.getOwnPropertyDescriptor(r,o))return;let s=Reflect.get(e,o),{enumerable:a}=Reflect.getOwnPropertyDescriptor(e,o),i={value:s,enumerable:a,configurable:!0};if(nt.has(s))Pt(s,!1);else if(be.has(s)){let[l,d]=be.get(s);i.value=An(l,d())}Object.defineProperty(r,o,i)}),Object.preventExtensions(r)},pr=(e,t,n,r)=>({deleteProperty(o,s){let a=Reflect.get(o,s);n(s);let i=Reflect.deleteProperty(o,s);return i&&r(["delete",[s],a]),i},set(o,s,a,i){let l=!e()&&Reflect.has(o,s),d=Reflect.get(o,s,i);if(l&&(En(d,a)||tt.has(a)&&En(d,tt.get(a))))return!0;n(s),Mt(a)&&(a=Cn(a)||a);let f=!be.has(a)&&fr(a)?b(a):a;return t(s,f),Reflect.set(o,s,f,i),r(["set",[s],a,d]),!0}}),be=new WeakMap,nt=new WeakSet,Dt=new WeakMap,ht=[1],tt=new WeakMap,En=Object.is,ur=(e,t)=>new Proxy(e,t),fr=dr,mr=An,Cr=pr});function V(e,t,n,r){let o=e[t];return H(e,()=>{let s=e[t];Object.is(o,s)||n(o=s)},r)}function Sn(e){let t=[],n=0,r=new Map,o=new WeakMap,s=()=>{let d=Er.get(i),f=d?.[1];if(f&&!o.has(f)){let m=new Map(r);o.set(f,m)}},a=d=>o.get(d)||r;if(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(let[d,f]of e)r.set(d,n),t[n++]=f}let i={data:t,index:n,epoch:0,get size(){return Et(this)||s(),a(this).size},get(d){let m=a(this).get(d);if(m===void 0){this.epoch;return}return this.data[m]},has(d){let f=a(this);return this.epoch,f.has(d)},set(d,f){if(!Et(this))throw new Error("Cannot perform mutations on a snapshot");let m=r.get(d);return m===void 0?(r.set(d,this.index),this.data[this.index++]=f):this.data[m]=f,this.epoch++,this},delete(d){if(!Et(this))throw new Error("Cannot perform mutations on a snapshot");let f=r.get(d);return f===void 0?!1:(delete this.data[f],r.delete(d),this.epoch++,!0)},clear(){if(!Et(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(d){this.epoch,a(this).forEach((m,j)=>{d(this.data[m],j,this)})},*entries(){this.epoch;let d=a(this);for(let[f,m]of d)yield[f,this.data[m]]},*keys(){this.epoch;let d=a(this);for(let f of d.keys())yield f},*values(){this.epoch;let d=a(this);for(let f of d.values())yield this.data[f]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},l=b(i);return Object.defineProperties(l,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(l),l}var Po,hr,Er,Et,Do,Mo,se=w(()=>{"use strict";J();Po=Symbol(),{proxyStateMap:hr,snapCache:Er}=Lt(),Et=e=>hr.has(e);({proxyStateMap:Do,snapCache:Mo}=Lt())});var gn,wn=w(()=>{"use strict";pe();ye();de();gn={getFeatureValue(e,t){let n=t?.[e];return n===void 0?$.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return N.isTelegram()&&(N.isIos()&&(t=t.filter(n=>n!=="google")),N.isMac()&&(t=t.filter(n=>n!=="x")),N.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),N.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray(R.state.features?.socials)&&R.state.features?.socials.length>0||Array.isArray(R.state.remoteFeatures?.socials)&&R.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(R.state.features?.email||R.state.remoteFeatures?.email)}}});var A,R,pe=w(()=>{"use strict";J();se();ye();de();wn();A=b({features:$.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:$.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),R={state:A,subscribeKey(e,t){return V(A,e,t)},setOptions(e){Object.assign(A,e)},setRemoteFeatures(e){if(!e)return;let t=p(p({},A.remoteFeatures),e);A.remoteFeatures=t,A.remoteFeatures?.socials&&(A.remoteFeatures.socials=gn.filterSocialsByPlatform(A.remoteFeatures.socials)),A.features?.pay&&(A.remoteFeatures.email=!1,A.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;A.features||(A.features=$.DEFAULT_FEATURES);let t=p(p({},A.features),e);A.features=t,A.features?.pay&&A.remoteFeatures&&(A.remoteFeatures.email=!1,A.remoteFeatures.socials=!1)},setProjectId(e){A.projectId=e},setCustomRpcUrls(e){A.customRpcUrls=e},setAllWallets(e){A.allWallets=e},setIncludeWalletIds(e){A.includeWalletIds=e},setExcludeWalletIds(e){A.excludeWalletIds=e},setFeaturedWalletIds(e){A.featuredWalletIds=e},setTokens(e){A.tokens=e},setTermsConditionsUrl(e){A.termsConditionsUrl=e},setPrivacyPolicyUrl(e){A.privacyPolicyUrl=e},setCustomWallets(e){A.customWallets=e},setIsSiweEnabled(e){A.isSiweEnabled=e},setIsUniversalProvider(e){A.isUniversalProvider=e},setSdkVersion(e){A.sdkVersion=e},setMetadata(e){A.metadata=e},setDisableAppend(e){A.disableAppend=e},setEIP6963Enabled(e){A.enableEIP6963=e},setDebug(e){A.debug=e},setEnableWalletGuide(e){A.enableWalletGuide=e},setEnableAuthLogger(e){A.enableAuthLogger=e},setEnableWallets(e){A.enableWallets=e},setPreferUniversalLinks(e){A.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,n]of Object.entries($.SIWX_DEFAULTS))e[t]??=n;A.siwx=e},setConnectMethodsOrder(e){A.features=T(p({},A.features),{connectMethodsOrder:e})},setWalletFeaturesOrder(e){A.features=T(p({},A.features),{walletFeaturesOrder:e})},setSocialsOrder(e){A.remoteFeatures=T(p({},A.remoteFeatures),{socials:e})},setCollapseWallets(e){A.features=T(p({},A.features),{collapseWallets:e})},setEnableEmbedded(e){A.enableEmbedded=e},setAllowUnsupportedChain(e){A.allowUnsupportedChain=e},setManualWCControl(e){A.manualWCControl=e},setEnableNetworkSwitch(e){A.enableNetworkSwitch=e},setEnableMobileFullScreen(e){A.enableMobileFullScreen=N.isMobile()&&e},setEnableReconnect(e){A.enableReconnect=e},setCoinbasePreference(e){A.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(A.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){A.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return A.universalProviderConfigOverride},getSnapshot(){return _e(A)}}});var He,X,Ar,Ue,rt=w(()=>{"use strict";J();se();de();He=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),X=b(p({},He)),Ar={state:X,subscribeKey(e,t){return V(X,e,t)},showLoading(e,t={}){this._showMessage(p({message:e,variant:"loading"},t))},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=N.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){X.message=He.message,X.variant=He.variant,X.svg=He.svg,X.open=He.open,X.autoClose=He.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=He.autoClose}){X.open?(X.open=!1,setTimeout(()=>{X.message=e,X.variant=n,X.svg=t,X.open=!0,X.autoClose=r},150)):(X.message=e,X.variant=n,X.svg=t,X.open=!0,X.autoClose=r)}},Ue=Ar});async function ot(...e){let t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}var Ee,st=w(()=>{"use strict";Ee=class{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get(s){var a=s,{headers:t,signal:n,cache:r}=a,o=ge(a,["headers","signal","cache"]);let i=this.createUrl(o);return(await ot(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob(o){var s=o,{headers:t,signal:n}=s,r=ge(s,["headers","signal"]);let a=this.createUrl(r);return(await ot(a,{method:"GET",headers:t,signal:n})).blob()}async post(s){var a=s,{body:t,headers:n,signal:r}=a,o=ge(a,["body","headers","signal"]);let i=this.createUrl(o);return(await ot(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put(s){var a=s,{body:t,headers:n,signal:r}=a,o=ge(a,["body","headers","signal"]);let i=this.createUrl(o);return(await ot(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete(s){var a=s,{body:t,headers:n,signal:r}=a,o=ge(a,["body","headers","signal"]);let i=this.createUrl(o);return(await ot(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){let r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([o,s])=>{s&&r.searchParams.append(o,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon(r){var o=r,{body:t}=o,n=ge(o,["body"]);let s=this.createUrl(n);return navigator.sendBeacon(s.toString(),t?JSON.stringify(t):void 0)}}});var Sr,ns,rs,os,Ce,ee,at=w(()=>{"use strict";Sr="https://secure.walletconnect.org/sdk",ns=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Sr,rs=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",os=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ce={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},ee={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}});var xt,_n=w(()=>{"use strict";xt={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u}});var Ye,Bt=w(()=>{"use strict";at();Nn();Ye={set(e,t){At.isClient&&localStorage.setItem(`${Ce.STORAGE_KEY}${e}`,t)},get(e){return At.isClient?localStorage.getItem(`${Ce.STORAGE_KEY}${e}`):null},delete(e,t){At.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Ce.STORAGE_KEY}${e}`))}}});var St,At,Nn=w(()=>{"use strict";_n();at();Bt();St=30*1e3,At={checkIfAllowedToTriggerEmail(){let e=Ye.get(Ce.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<St){let n=Math.ceil((St-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){let e=Ye.get(Ce.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<St)return Math.ceil((St-t)/1e3)}return 0},checkIfRequestExists(e){return ee.NOT_SAFE_RPC_METHODS.includes(e.method)||ee.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(xt.transactionHash)||e?.match(xt.signedMessage))?Ce.RPC_RESPONSE_TYPE_TX:Ce.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return ee.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"}});var In=w(()=>{"use strict";at();Bt()});var it=w(()=>{"use strict";at()});var ue,Tn,Ft=w(()=>{"use strict";Z();te();ue={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Tn={handleMobileDeeplinkRedirect(e,t){let n=window.location.href,r=encodeURIComponent(n);if(e===ue.PHANTOM.id&&!("phantom"in window)){let o=n.startsWith("https")?"https":"http",s=n.split("/")[2],a=encodeURIComponent(`${o}://${s}`);window.location.href=`${ue.PHANTOM.url}/ul/browse/${r}?ref=${a}`}if(e===ue.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ue.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===_.CHAIN.SOLANA&&e===ue.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ue.COINBASE.url}/dapp?cb_url=${r}`),t===_.CHAIN.BITCOIN&&e===ue.BINANCE.id&&!("binancew3w"in window)){let o=c.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),a=window.btoa(`url=${r}&defaultChainId=${o?.id??1}`),i=new URL(ue.BINANCE.deeplink);i.searchParams.set("appId",ue.BINANCE.appId),i.searchParams.set("startPagePath",s),i.searchParams.set("startPageQuery",a);let l=new URL(ue.BINANCE.url);l.searchParams.set("_dp",window.btoa(i.toString())),window.location.href=l.toString()}}}});var gr,wr,_r,Nr,Pe,Rn,yn=w(()=>{"use strict";J();se();de();st();pe();gr=Object.freeze({enabled:!0,events:[]}),wr=new Ee({baseUrl:N.getAnalyticsUrl(),clientId:null}),_r=5,Nr=60*1e3,Pe=b(p({},gr)),Rn={state:Pe,subscribeKey(e,t){return V(Pe,e,t)},async sendError(e,t){if(!Pe.enabled)return;let n=Date.now();if(Pe.events.filter(s=>{let a=new Date(s.properties.timestamp||"").getTime();return n-a<Nr}).length>=_r)return;let o={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Pe.events.push(o);try{if(typeof window>"u")return;let{projectId:s,sdkType:a,sdkVersion:i}=R.state;await wr.post({path:"/e",params:{projectId:s,st:a,sv:i||"html-wagmi-4.2.2"},body:{eventId:N.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Pe.enabled=!0},disable(){Pe.enabled=!1},clearEvents(){Pe.events=[]}}});function On(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(o){n="Unknown error",console.error("Error parsing error message",o)}let r=e instanceof Ve?e:new Ve(n,t,e);throw Rn.sendError(r,r.category),r}function z(e,t="INTERNAL_SDK_ERROR"){let n={};return Object.keys(e).forEach(r=>{let o=e[r];if(typeof o=="function"){let s=o;o.constructor.name==="AsyncFunction"?s=async(...a)=>{try{return await o(...a)}catch(i){return On(i,t)}}:s=(...a)=>{try{return o(...a)}catch(i){return On(i,t)}},n[r]=s}else n[r]=o}),n}var Ve,Ne=w(()=>{"use strict";yn();Ve=class e extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,e.prototype);let o=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){let s=r.stack,a=s.indexOf(`
`);if(a>-1){let i=s.substring(a+1);this.stack=`${this.name}: ${this.message}
${i}`,o=!0}}o||(Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack||(this.stack=`${this.name}: ${this.message}`))}}});var fe,Ir,ae,Wt=w(()=>{"use strict";J();se();Ne();fe=b({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Ir={state:fe,subscribeNetworkImages(e){return H(fe.networkImages,()=>e(fe.networkImages))},subscribeKey(e,t){return V(fe,e,t)},subscribe(e){return H(fe,()=>e(fe))},setWalletImage(e,t){fe.walletImages[e]=t},setNetworkImage(e,t){fe.networkImages[e]=t},setChainImage(e,t){fe.chainImages[e]=t},setConnectorImage(e,t){fe.connectorImages=T(p({},fe.connectorImages),{[e]:t})},setTokenImage(e,t){fe.tokenImages[e]=t},setCurrencyImage(e,t){fe.currencyImages[e]=t}},ae=z(Ir)});var Tr,Ht,vn,kn=w(()=>{"use strict";J();ct();Wt();Tr={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},Ht=b({networkImagePromises:{}}),vn={async fetchWalletImage(e){if(e)return await I._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(Ht.networkImagePromises[e]||(Ht.networkImagePromises[e]=I._fetchNetworkImage(e)),await Ht.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return ae.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return ae.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return ae.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return ae.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return ae.state.connectorImages[e.imageId]},getChainImage(e){return ae.state.networkImages[Tr[e]]},getTokenImage(e){if(e)return ae.state.tokenImages[e]}}});var Rr,yr,Or,vr,bn,q,M,De=w(()=>{"use strict";J();de();st();te();pe();Rr=N.getAnalyticsUrl(),yr=new Ee({baseUrl:Rr,clientId:null}),Or=["MODAL_CREATED"],vr=45,bn=1e3*10,q=b({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),M={state:q,subscribe(e){return H(q,()=>e(q))},getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:n}=R.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(q.pendingEvents).length/1024>vr,t=q.lastFlush+bn<Date.now();return e||t},_setPendingEvent(e){try{let t=c.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),Or.includes(e.data.event)||typeof window>"u")return;let n=c.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:N.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:T(p({},e.data),{address:t,properties:T(p({},"properties"in e.data?e.data.properties:{}),{caipNetworkId:n})})}),q.reportedErrors.FORBIDDEN=!1,M.shouldFlushEvents()&&M._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){q.timestamp=Date.now(),q.data=e;let t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(R.state.features?.analytics||t.includes(e.event))&&M._setPendingEvent(q),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){q.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(q.lastFlush=Date.now(),!(q.pendingEvents.length===0&&q.walletImpressions.length===0))try{let e=M._transformPendingEventsForBatch(q.pendingEvents);q.walletImpressions.length&&e.push({eventId:N.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...q.walletImpressions]}}),yr.sendBeacon({path:"/batch",params:M.getSdkProperties(),body:e}),q.reportedErrors.FORBIDDEN=!1,q.pendingEvents=[],q.walletImpressions=[]}catch{q.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){q.subscribedToVisibilityChange||typeof document>"u"||(q.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&M._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{M._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{M._submitPendingEvents()}),setInterval(()=>{M._submitPendingEvents()},bn))}}});var kr,ne,br,Un,Ur,y,I,ct=w(()=>{"use strict";J();se();Z();kn();de();st();Ft();Re();Wt();te();Ae();De();pe();kr=N.getApiUrl(),ne=new Ee({baseUrl:kr,clientId:null}),br=40,Un=4,Ur=20,y=b({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),I={state:y,subscribeKey(e,t){return V(y,e,t)},_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:n}=R.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return R.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){let t=`${ne.baseUrl}/getWalletImage/${e}`,n=await ne.getBlob({path:t,params:I._getSdkProperties()});ae.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){let t=`${ne.baseUrl}/public/getAssetImage/${e}`,n=await ne.getBlob({path:t,params:I._getSdkProperties()});ae.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){let t=`${ne.baseUrl}/public/getAssetImage/${e}`,n=await ne.getBlob({path:t,params:I._getSdkProperties()});ae.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){let t=`${ne.baseUrl}/public/getCurrencyImage/${e}`,n=await ne.getBlob({path:t,params:I._getSdkProperties()});ae.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){let t=`${ne.baseUrl}/public/getTokenImage/${e}`,n=await ne.getBlob({path:t,params:I._getSdkProperties()});ae.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){let t=e.length,n=N.isMobile()?e?.filter(o=>o.mobile_link||o.webapp_link?!0:Object.values(ue).map(a=>a.id).includes(o.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await ne.get({path:"/appkit/v1/config",params:I._getSdkProperties()})).features},async fetchUsage(){try{let e=await ne.get({path:"/appkit/v1/project-limits",params:I._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,o=t==="starter",s=n||r;I.state.plan={tier:t,hasExceededUsageLimit:o&&s,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await ne.get({path:"/projects/v1/origins",params:I._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===_.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=_.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){let t=c.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!vn.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>I._fetchNetworkImage(n)))},async fetchConnectorImages(){let{connectors:e}=S.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>I._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>I._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>I._fetchTokenImage(t)))},async fetchWallets(e){let t=e.exclude??[];I._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ue).map(a=>a.id));let r=await ne.get({path:"/getWallets",params:T(p(p({},I._getSdkProperties()),e),{page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")})}),{filteredWallets:o,mobileFilteredOutWalletsLength:s}=I._filterWalletsByPlatform(r?.data);return{data:o||[],count:r?.count,mobileFilteredOutWalletsLength:s}},async prefetchWalletRanks(){let e=S.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(o=>o.name).join(","),c.state.activeChain===_.CHAIN.EVM){let o=[...e.flatMap(s=>s.connectors?.map(a=>a.info?.rdns)||[]),...e.map(s=>s.info?.rdns)].filter(s=>typeof s=="string"&&s.length>0);o.length&&(t.rdns=o.join(","))}let{data:n}=await I.fetchWallets(t);y.explorerWallets=n;let r=c.getRequestedCaipNetworkIds().join(",");y.explorerFilteredWallets=n.filter(o=>o.chains?.some(s=>r.includes(s)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=R.state;if(e?.length){let t=T(p({},I._getSdkProperties()),{page:1,entries:e?.length??Un,include:e}),{data:n}=await I.fetchWallets(t),r=[...n].sort((s,a)=>e.indexOf(s.id)-e.indexOf(a.id)),o=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(o.map(s=>I._fetchWalletImage(s))),y.featured=r,y.allFeatured=r}},async fetchRecommendedWallets(){try{y.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=R.state,r=[...t??[],...n??[]].filter(Boolean),o=c.getRequestedCaipNetworkIds().join(","),s={page:1,entries:Un,include:e,exclude:r,chains:o},{data:a,count:i}=await I.fetchWallets(s),l=C.getRecentWallets(),d=a.map(m=>m.image_id).filter(Boolean),f=l.map(m=>m.image_id).filter(Boolean);await Promise.allSettled([...d,...f].map(m=>I._fetchWalletImage(m))),y.recommended=a,y.allRecommended=a,y.count=i??0}catch{}finally{y.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=R.state,o=c.getRequestedCaipNetworkIds().join(","),s=[...y.recommended.map(({id:m})=>m),...n??[],...r??[]].filter(Boolean),a={page:e,entries:br,include:t,exclude:s,chains:o},{data:i,count:l,mobileFilteredOutWalletsLength:d}=await I.fetchWallets(a);y.mobileFilteredOutWalletsLength=d+(y.mobileFilteredOutWalletsLength??0);let f=i.slice(0,Ur).map(m=>m.image_id).filter(Boolean);await Promise.allSettled(f.map(m=>I._fetchWalletImage(m))),y.wallets=N.uniqueBy([...y.wallets,...I._filterOutExtensions(i)],"id").filter(m=>m.chains?.some(j=>o.includes(j))),y.count=l>y.count?l:y.count,y.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:n}=await I.fetchWallets(t);n&&n.forEach(r=>{y.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:n,excludeWalletIds:r}=R.state,o=c.getRequestedCaipNetworkIds().join(",");y.search=[];let s={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:o},{data:a}=await I.fetchWallets(s);M.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let i=a.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...i.map(l=>I._fetchWalletImage(l)),N.wait(300)]),y.search=I._filterOutExtensions(a)},initPromise(e,t){let n=y.promises[e];return n||(y.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:o=!0}={}){let s=[e&&I.initPromise("connectorImages",I.fetchConnectorImages),t&&I.initPromise("featuredWallets",I.fetchFeaturedWallets),n&&I.initPromise("recommendedWallets",I.fetchRecommendedWallets),r&&I.initPromise("networkImages",I.fetchNetworkImages),o&&I.initPromise("walletRanks",I.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){R.state.features?.analytics&&I.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await ne.get({path:"/getAnalyticsConfig",params:I._getSdkProperties()});R.setFeatures({analytics:e})}catch{R.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){y.featured=y.allFeatured,y.recommended=y.allRecommended;return}let t=c.getRequestedCaipNetworkIds().join(",");y.featured=y.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),y.recommended=y.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),y.filteredWallets=y.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){y.filteredWallets=[]},setFilterByNamespace(e){if(!e){y.featured=y.allFeatured,y.recommended=y.allRecommended;return}let t=c.getRequestedCaipNetworkIds().join(",");y.featured=y.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),y.recommended=y.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),y.filteredWallets=y.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}}});var Pn,Dn=w(()=>{"use strict";Z();te();Ae();Ke();Pn={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){let n=c.state.activeCaipNetwork,r=c.state.activeChain,o=v.state.data;if(e.id===n?.id)return;let a=!!c.getAccountData(r)?.address,i=!!c.getAccountData(e.chainNamespace)?.address,l=e.chainNamespace!==r,f=S.getConnectorId(r)===_.CONNECTOR_ID.AUTH,m=_.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(j=>j===e.chainNamespace);t||f&&m?v.push("SwitchNetwork",T(p({},o),{network:e})):a&&l&&!i?v.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):v.push("SwitchNetwork",T(p({},o),{network:e}))}}});var je,ve,Vt=w(()=>{"use strict";J();se();je=b({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ve={state:je,subscribe(e){return H(je,()=>e(je))},subscribeOpen(e){return V(je,"open",e)},set(e){Object.assign(je,p(p({},je),e))}}});var ie,Pr,K,lt=w(()=>{"use strict";J();se();de();Dn();Ne();ct();te();Me();Ae();De();pe();Vt();Ke();ie=b({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Pr={state:ie,subscribe(e){return H(ie,()=>e(ie))},subscribeKey(e,t){return V(ie,e,t)},async open(e){let t=e?.namespace,n=c.state.activeChain,r=t&&t!==n,o=c.getAccountData(e?.namespace)?.caipAddress,s=c.state.noAdapters;if(g.state.wcBasic?I.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await I.prefetch(),S.setFilterByNamespace(e?.namespace),K.setLoading(!0,t),t&&r){let a=c.getNetworkData(t)?.caipNetwork||c.getRequestedCaipNetworks(t)[0];a&&(s?(await c.switchActiveNetwork(a),v.push("ConnectingWalletConnectBasic")):Pn.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else R.state.manualWCControl||s&&!o?N.isMobile()?v.reset("AllWallets"):v.reset("ConnectingWalletConnectBasic"):e?.view?v.reset(e.view,e.data):o?v.reset("Account"):v.reset("Connect");ie.open=!0,ve.set({open:!0}),M.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!o}})},close(){let e=R.state.enableEmbedded,t=!!c.state.activeCaipAddress;ie.open&&M.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),ie.open=!1,v.reset("Connect"),K.clearLoading(),e?t?v.replace("Account"):v.push("Connect"):ve.set({open:!1}),g.resetUri()},setLoading(e,t){t&&ie.loadingNamespaceMap.set(t,e),ie.loading=e,ve.set({loading:e})},clearLoading(){ie.loadingNamespaceMap.clear(),ie.loading=!1,ve.set({loading:!1})},shake(){ie.shake||(ie.shake=!0,setTimeout(()=>{ie.shake=!1},500))}},K=z(Pr)});var Dr,B,Mr,v,Ke=w(()=>{"use strict";J();se();Ne();ct();te();Ae();lt();pe();Dr=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],B=b({view:"Connect",history:["Connect"],transactionStack:[]}),Mr={state:B,subscribeKey(e,t){return V(B,e,t)},pushTransactionStack(e){B.transactionStack.push(e)},popTransactionStack(e){let t=B.transactionStack.pop();if(!t)return;let{onSuccess:n,onError:r,onCancel:o}=t;switch(e){case"success":n?.();break;case"error":r?.(),v.goBack();break;case"cancel":o?.(),v.goBack();break;default:}},push(e,t){let n=e,r=t;I.state.plan.hasExceededUsageLimit&&Dr.includes(e)&&(n="UsageExceeded",r=void 0),n!==B.view&&(B.view=n,B.history.push(n),B.data=r)},reset(e,t){B.view=e,B.history=[e],B.data=t},replace(e,t){B.history.at(-1)===e||(B.view=e,B.history[B.history.length-1]=e,B.data=t)},goBack(){let e=c.state.activeCaipAddress,t=v.state.view==="ConnectingFarcaster",n=!e&&t;if(B.history.length>1){B.history.pop();let[r]=B.history.slice(-1);r&&(e&&r==="Connect"?B.view="Account":B.view=r)}else K.close();B.data?.wallet&&(B.data.wallet=void 0),B.data?.redirectView&&(B.data.redirectView=void 0),setTimeout(()=>{if(n){c.setAccountProp("farcasterUrl",void 0,c.state.activeChain);let r=S.getAuthConnector();r?.provider?.reload();let o=_e(R.state);r?.provider?.syncDappData?.({metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(e){if(B.history.length>1){B.history=B.history.slice(0,e+1);let[t]=B.history.slice(-1);t&&(B.view=t)}},goBackOrCloseModal(){v.state.history.length>1?v.goBack():K.close()}},v=z(Mr)});var ke,Kt,dt,Mn=w(()=>{"use strict";J();Z();Ne();Ae();ke=b({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Kt={state:ke,subscribe(e){return H(ke,()=>e(ke))},setThemeMode(e){ke.themeMode=e;try{let t=S.getAuthConnector();if(t){let n=Kt.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:We(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){ke.themeVariables=p(p({},ke.themeVariables),e);try{let t=S.getAuthConnector();if(t){let n=Kt.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:We(ke.themeVariables,ke.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return _e(ke)}},dt=z(Kt)});var Ln,Lr,L,xr,S,Ae=w(()=>{"use strict";J();se();Z();it();Ge();Ft();Re();Ne();ct();te();pe();Ke();Mn();Ln=Object.fromEntries(mt.map(e=>[e,void 0])),Lr=Object.fromEntries(mt.map(e=>[e,!0])),L=b({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Ln,filterByNamespaceMap:Lr}),xr={state:L,subscribe(e){return H(L,()=>{e(L)})},subscribeKey(e,t){return V(L,e,t)},initialize(e){e.forEach(t=>{let n=C.getConnectedConnectorId(t);n&&S.setConnectorId(n,t)})},setActiveConnector(e){e&&(L.activeConnector=Oe(e))},setConnectors(e){e.filter(o=>!L.allConnectors.some(s=>s.id===o.id&&S.getConnectorName(s.name)===S.getConnectorName(o.name)&&s.chain===o.chain)).forEach(o=>{o.type!=="MULTI_CHAIN"&&L.allConnectors.push(Oe(o))});let n=S.getEnabledNamespaces(),r=S.getEnabledConnectors(n);L.connectors=S.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(L.filterByNamespaceMap).forEach(t=>{L.filterByNamespaceMap[t]=!1}),e.forEach(t=>{L.filterByNamespaceMap[t]=!0}),S.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){L.filterByNamespaceMap[e]=t,S.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=S.getEnabledNamespaces(),t=S.getEnabledConnectors(e),n=S.areAllNamespacesEnabled();L.connectors=S.mergeMultiChainConnectors(t),n?I.clearFilterByNamespaces():I.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(L.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return L.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(L.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){let t=S.generateConnectorMapByName(e),n=[];return t.forEach(r=>{let o=r[0],s=o?.id===_.CONNECTOR_ID.AUTH;r.length>1&&o?n.push({name:o.name,imageUrl:o.imageUrl,imageId:o.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:o?.id||""}):o&&n.push(o)}),n},generateConnectorMapByName(e){let t=new Map;return e.forEach(n=>{let{name:r}=n,o=S.getConnectorName(r);if(!o)return;let s=t.get(o)||[];s.find(i=>i.chain===n.chain)||s.push(n),t.set(o,s)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){let t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===_.CONNECTOR_ID.AUTH){let t=e,n=_e(R.state),r=dt.getSnapshot().themeMode,o=dt.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:We(o,r)}),S.setConnectors([e])}else S.setConnectors([e])},getAuthConnector(e){let t=e||c.state.activeChain,n=L.connectors.find(r=>r.id===_.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(o=>o.chain===t):n},getAnnouncedConnectorRdns(){return L.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return L.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){let r=n||c.state.activeChain;return L.allConnectors.filter(s=>s.chain===r).find(s=>s.explorerId===e||s.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;let t=e,n=_e(R.state),r=dt.getSnapshot().themeMode,o=dt.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:o,w3mThemeVariables:We(o,r)})},getConnectorsByNamespace(e){let t=L.allConnectors.filter(n=>n.chain===e);return S.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return c.checkIfSmartAccountEnabled()&&me(e)===ee.ACCOUNT_TYPES.EOA},selectWalletConnector(e){let t=v.state.data?.redirectView,n=S.getConnector({id:e.id,rdns:e.rdns});Tn.handleMobileDeeplinkRedirect(n?.explorerId||e.id,c.state.activeChain),n?v.push("ConnectingExternal",{connector:n,wallet:e,redirectView:t}):v.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?S.getConnectorsByNamespace(e):S.mergeMultiChainConnectors(L.allConnectors)},setFilterByNamespace(e){L.filterByNamespace=e,L.connectors=S.getConnectors(e),I.setFilterByNamespace(e)},setConnectorId(e,t){e&&(L.activeConnectorIds=T(p({},L.activeConnectorIds),{[t]:e}),C.setConnectedConnectorId(t,e))},removeConnectorId(e){L.activeConnectorIds=T(p({},L.activeConnectorIds),{[e]:void 0}),C.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return L.activeConnectorIds[e]},isConnected(e){return e?!!L.activeConnectorIds[e]:Object.values(L.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){L.activeConnectorIds=p({},Ln)}},S=z(xr)});var Br,qe,xn=w(()=>{"use strict";Z();Z();it();te();Me();Ae();De();lt();Ke();Ge();ye();de();Re();Br=1e3,qe={checkNamespaceConnectorId(e,t){return S.getConnectorId(e)===t},isSocialProvider(e){return $.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:o,onConnect:s}){return new Promise((a,i)=>{if(e&&S.setActiveConnector(t),o?.(N.isMobile()&&e),r){let d=K.subscribeKey("open",f=>{f||(v.state.view!==r&&v.replace(r),d(),i(new Error("Modal closed")))})}let l=c.subscribeKey("activeCaipAddress",d=>{d&&(s?.(),n&&K.close(),l(),a(oe.parseCaipAddress(d)))})})},connectExternal(e){return new Promise((t,n)=>{let r=c.subscribeKey("activeCaipAddress",o=>{o&&(K.close(),r(),t(oe.parseCaipAddress(o)))});g.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:o}){let s,a=!1,i=null,l=t||c.state.activeChain,d=c.subscribeKey("activeCaipAddress",f=>{f&&(n&&K.close(),d())});return new Promise((f,m)=>{async function j(Q){if(Q.data?.resultUri)if(Q.origin===_.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",j,!1);try{let D=S.getAuthConnector(l);if(D&&!a){s&&s.close(),a=!0;let k=Q.data.resultUri;M.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),C.setConnectedSocialProvider(e),await g.connectExternal({id:D.id,type:D.type,socialUri:k},D.chain);let F=c.state.activeCaipAddress;if(!F){m(new Error("Failed to connect"));return}f(oe.parseCaipAddress(F)),M.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(D){M.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:N.parseError(D)}}),m(new Error("Failed to connect"))}}else M.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function Ie(){if(M.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();let Q=K.subscribeKey("open",k=>{!k&&e==="farcaster"&&(m(new Error("Popup closed")),o?.(),Q())}),D=S.getAuthConnector();if(D&&!c.getAccountData(l)?.farcasterUrl)try{let{url:F}=await D.provider.getFarcasterUri();c.setAccountProp("farcasterUrl",F,l)}catch{m(new Error("Failed to connect to farcaster"))}}else{let Q=S.getAuthConnector();i=N.returnOpenHref(`${_.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(Q){let{uri:D}=await Q.provider.getSocialRedirectUri({provider:e});if(i&&D){i.location.href=D,s=i;let k=setInterval(()=>{s?.closed&&!a&&(m(new Error("Popup closed")),clearInterval(k))},1e3);window.addEventListener("message",j,!1)}else i?.close(),m(new Error("Failed to initiate social connection"))}}catch{m(new Error("Failed to initiate social connection")),i?.close()}}}Ie()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((o,s)=>{if(n?.(),t){let i=K.subscribeKey("open",l=>{l||(v.state.view!==t&&v.replace(t),i(),s(new Error("Modal closed")))})}let a=c.subscribeKey("activeCaipAddress",i=>{i&&(r?.(),e&&K.close(),a(),o(oe.parseCaipAddress(i)))})})},async updateEmail(){let e=C.getConnectedConnectorId(c.state.activeChain),t=S.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==_.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");let n=t.provider.getEmail()??"";return await K.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,o)=>{let s=setInterval(()=>{let i=t.provider.getEmail()??"";i!==n&&(K.close(),clearInterval(s),a(),r({email:i}))},Br),a=K.subscribeKey("open",i=>{i||(v.state.view!=="Connect"&&v.push("Connect"),clearInterval(s),a(),o(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return c.checkIfSmartAccountEnabled()&&me(e)===ee.ACCOUNT_TYPES.EOA}}});function gt(){let e=c.state.activeCaipNetwork?.chainNamespace||"eip155",t=c.state.activeCaipNetwork?.id||1,n=$.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function me(e){return c.getAccountData(e)?.preferredAccountType}function Ii(e){return e?c.state.chains.get(e)?.networkState?.caipNetwork:c.state.activeCaipNetwork}var Ge=w(()=>{"use strict";te();ye()});var Gt,Bn=w(()=>{"use strict";Me();Ae();pe();Gt={getConnectionStatus(e,t){let n=S.state.activeConnectorIds[t],r=g.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(a=>a.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){let s=r.accounts.filter(a=>!n.some(l=>l.toLowerCase()===a.address.toLowerCase()));return T(p({},r),{accounts:s})}return r})},excludeExistingConnections(e,t){let n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){let t=!!R.state.remoteFeatures?.multiWallet,n=S.state.activeConnectorIds[e],r=g.getConnections(e),s=(g.state.recentConnections.get(e)??[]).filter(i=>S.getConnectorById(i.connectorId)),a=Gt.excludeExistingConnections([...r.map(i=>i.connectorId),...n?[n]:[]],s);return t?{connections:r,recentConnections:a}:{connections:r.filter(i=>i.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}}});var Y,Fr,pt,Fn=w(()=>{"use strict";J();it();Ge();Ne();wt();te();De();pe();rt();Y=b({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Fr={state:Y,subscribe(e){return H(Y,()=>e(Y))},setLastNetworkInView(e){Y.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");Y.loading=!0;try{let t=await O.fetchTransactions({account:e,cursor:Y.next,chainId:c.state.activeCaipNetwork?.caipNetworkId}),n=pt.filterSpamTransactions(t.data),r=pt.filterByConnectedChain(n),o=[...Y.transactions,...r];Y.loading=!1,Y.transactions=o,Y.transactionsByYear=pt.groupTransactionsByYearAndMonth(Y.transactionsByYear,r),Y.empty=o.length===0,Y.next=t.next?t.next:void 0}catch{let n=c.state.activeChain;M.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:R.state.projectId,cursor:Y.next,isSmartAccount:me(n)===ee.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ue.showError("Failed to fetch transactions"),Y.loading=!1,Y.empty=!0,Y.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){let n=e;return t.forEach(r=>{let o=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),a=n[o]??{},l=(a[s]??[]).filter(d=>d.id!==r.id);n[o]=T(p({},a),{[s]:[...l,r].sort((d,f)=>new Date(f.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())})}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){let t=c.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){Y.next=void 0},resetTransactions(){Y.transactions=[],Y.transactionsByYear={},Y.lastNetworkInView=void 0,Y.loading=!1,Y.empty=!1,Y.next=void 0}},pt=z(Fr,"API_ERROR")});var x,$e,Wr,g,Me=w(()=>{"use strict";J();se();Z();Ge();Bn();xn();de();Re();Ne();te();Ae();De();lt();Ke();Fn();x=b({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),Wr={state:x,subscribe(e){return H(x,()=>e(x))},subscribeKey(e,t){return V(x,e,t)},_getClient(){return x._client},setClient(e){x._client=Oe(e)},initialize(e){let t=e.filter(n=>!!n.namespace).map(n=>n.namespace);g.syncStorageConnections(t)},syncStorageConnections(e){let t=C.getConnections(),n=e??Array.from(c.state.chains.keys());for(let r of n){let o=t[r]??[],s=new Map(x.recentConnections);s.set(r,o),x.recentConnections=s}},getConnections(e){return e?x.connections.get(e)??[]:[]},hasAnyConnection(e){let t=g.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){let t=N.isTelegram()||N.isSafari()&&N.isIos();if(e==="always"||e==="auto"&&t){if($e){await $e,$e=void 0;return}if(!N.isPairingExpired(x?.wcPairingExpiry)){let n=x.wcUri;x.wcUri=n;return}$e=g._getClient()?.connectWalletConnect?.().catch(()=>{}),g.state.status="connecting",await $e,$e=void 0,x.wcPairingExpiry=void 0,g.state.status="connected"}else await g._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){let r=await g._getClient()?.connectExternal?.(e);return n&&c.setActiveNamespace(t),r},async reconnectExternal(e){await g._getClient()?.reconnectExternal?.(e);let t=e.chain||c.state.activeChain;t&&S.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;K.setLoading(!0,c.state.activeChain);let n=S.getAuthConnector();n&&(c.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),C.setPreferredAccountTypes(Object.entries(c.state.chains).reduce((r,[o,s])=>{let a=o,i=me(a);return i!==void 0&&(r[a]=i),r},{})),await g.reconnectExternal(n),K.setLoading(!1,c.state.activeChain),M.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:c.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return g._getClient()?.signMessage(e)},parseUnits(e,t){return g._getClient()?.parseUnits(e,t)},formatUnits(e,t){return g._getClient()?.formatUnits(e,t)},updateBalance(e){return g._getClient()?.updateBalance(e)},async sendTransaction(e){return g._getClient()?.sendTransaction(e)},async getCapabilities(e){return g._getClient()?.getCapabilities(e)},async grantPermissions(e){return g._getClient()?.grantPermissions(e)},async walletGetAssets(e){return g._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return g._getClient()?.estimateGas(e)},async writeContract(e){return g._getClient()?.writeContract(e)},async getEnsAddress(e){return g._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return g._getClient()?.getEnsAvatar(e)},checkInstalled(e){return g._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){x.wcUri=void 0,x.wcPairingExpiry=void 0,x.wcLinking=void 0,x.recentWallet=void 0,x.status="disconnected",pt.resetTransactions(),C.deleteWalletConnectDeepLink(),C.deleteRecentWallet()},resetUri(){x.wcUri=void 0,x.wcPairingExpiry=void 0,$e=void 0},finalizeWcConnection(e){let{wcLinking:t,recentWallet:n}=g.state;t&&C.setWalletConnectDeepLink(t),n&&C.setAppKitRecent(n),e&&M.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:v.state.data?.wallet?.name||"Unknown",view:v.state.view,walletRank:n?.order}})},setWcBasic(e){x.wcBasic=e},setUri(e){x.wcUri=e,x.wcPairingExpiry=N.getPairingExpiry()},setWcLinking(e){x.wcLinking=e},setWcError(e){x.wcError=e,x.buffering=!1},setRecentWallet(e){x.recentWallet=e},setBuffering(e){x.buffering=e},setStatus(e){x.status=e},setIsSwitchingConnection(e){x.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await g._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new Ve("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await g._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new Ve("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){let n=new Map(x.connections);n.set(t,e),x.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){let r=c.getAccountData(t)?.user?.accounts?.find(s=>s.type==="smartAccount"),o=r&&r.address.toLowerCase()===e.toLowerCase()&&qe.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await g.setPreferredAccountType(o,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){let r=S.getConnectorById(e.connectorId),o=e.connectorId===_.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(o)n&&await g.handleAuthAccountSwitch({address:n,namespace:t});else return(await g.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){let o=S.getConnectorById(e.connectorId),s=e.auth?.name?.toLowerCase(),a=e.connectorId===_.CONNECTOR_ID.AUTH,i=e.connectorId===_.CONNECTOR_ID.WALLET_CONNECT;if(!o)throw new Error(`No connector found for connection: ${e.connectorId}`);let l;if(a)if(s&&qe.isSocialProvider(s)){let{address:d}=await qe.connectSocial({social:s,closeModalOnConnect:r,onOpenFarcaster(){K.open({view:"ConnectingFarcaster"})},onConnect(){v.replace("ProfileWallets")}});l=d}else{let{address:d}=await qe.connectEmail({closeModalOnConnect:r,onOpen(){K.open({view:"EmailLogin"})},onConnect(){v.replace("ProfileWallets")}});l=d}else if(i){let{address:d}=await qe.connectWalletConnect({walletConnect:!0,connector:o,closeModalOnConnect:r,onOpen(f){let m=f?"AllWallets":"ConnectingWalletConnect";K.state.open?v.push(m):K.open({view:m})},onConnect(){v.replace("ProfileWallets")}});l=d}else{let d=await g.connectExternal({id:o.id,type:o.type,provider:o.provider,chain:t},t);d&&(l=d.address)}return a&&n&&await g.handleAuthAccountSwitch({address:n,namespace:t}),l},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:o}){let s,a=c.getAccountData(n)?.caipAddress;if(a){let{address:l}=oe.parseCaipAddress(a);s=l}let i=Gt.getConnectionStatus(e,n);switch(i){case"connected":case"active":{let l=await g.handleActiveConnection({connection:e,namespace:n,address:t});if(s&&l){let d=l.toLowerCase()!==s.toLowerCase();o?.({address:l,namespace:n,hasSwitchedAccount:d,hasSwitchedWallet:i==="active"})}break}case"disconnected":{let l=await g.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});l&&o?.({address:l,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${i}`)}}},g=z(Wr)});var _t,Wn=w(()=>{"use strict";Jt();_t={createBalance(e,t){let n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return ut(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}}});async function Hn(){if(!$t){let{createPublicClient:e,http:t,defineChain:n}=await import("./chunk-DJ2YBGVR.js");$t={createPublicClient:e,http:t,defineChain:n}}return $t}var $t,Nt,Vn=w(()=>{"use strict";Z();pe();Nt={getBlockchainApiRpcUrl(e,t){let n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){let{defineChain:t}=await Hn(),{chainId:n}=oe.parseCaipNetworkId(e.caipNetworkId);return t(T(p({},e),{id:Number(n)}))},async createViemPublicClient(e){let{createPublicClient:t,http:n}=await Hn(),r=R.state.projectId,o=await Nt.getViemChain(e);if(!o)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:o,transport:n(Nt.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}}});var Je,It=w(()=>{"use strict";Jt();Z();wt();te();Me();Ae();Wn();Re();Vn();Je={async getMyTokensWithBalance(e){let t=c.getAccountData()?.address,n=c.state.activeCaipNetwork,r=S.getConnectorId("eip155")===_.CONNECTOR_ID.AUTH;if(!t||!n)return[];let o=`${n.caipNetworkId}:${t}`,s=C.getBalanceCacheForCaipAddress(o);if(s)return s.balances;if(n.chainNamespace===_.CHAIN.EVM&&r){let i=await this.getEIP155Balances(t,n);if(i)return this.filterLowQualityTokens(i)}let a=await O.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){try{let n=_t.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await g.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;let o=await g.walletGetAssets({account:e,chainFilter:[n]});if(!_t.isWalletGetAssetsResponse(o))return null;let a=(o[n]||[]).map(i=>_t.createBalance(i,t.caipNetworkId));return C.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:a},timestamp:Date.now()}),a}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){let r=await Nt.createViemPublicClient(n),{address:o}=oe.parseCaipAddress(e),[{result:s},{result:a},{result:i},{result:l}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:Xe},{address:t,functionName:"symbol",args:[],abi:Xe},{address:t,functionName:"balanceOf",args:[o],abi:Xe},{address:t,functionName:"decimals",args:[],abi:Xe}]});return{name:s,symbol:a,decimals:l,balance:i&&l?ut(i,l):"0"}}}});var Yt,Kn,Gn=w(()=>{"use strict";Yt={adapters:{}},Kn={state:Yt,initialize(e){Yt.adapters=p({},e)},get(e){return Yt.adapters[e]}}});var Tt,ce,$n,Yn=w(()=>{"use strict";J();se();Tt={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},ce=b({providers:p({},Tt),providerIds:p({},Tt)}),$n={state:ce,subscribeKey(e,t){return V(ce,e,t)},subscribe(e){return H(ce,()=>{e(ce)})},subscribeProviders(e){return H(ce.providers,()=>e(ce.providers))},setProvider(e,t){e&&t&&(ce.providers[e]=Oe(t))},getProvider(e){if(e)return ce.providers[e]},setProviderId(e,t){t&&(ce.providerIds[e]=t)},getProviderId(e){if(e)return ce.providerIds[e]},reset(){ce.providers=p({},Tt),ce.providerIds=p({},Tt)},resetChain(e){ce.providers[e]=void 0,ce.providerIds[e]=void 0}}});var jn,qn=w(()=>{"use strict";wt();te();Me();It();Ge();jn={async getTokenList(e){return(await O.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>T(p({},r),{eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=c.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":let t=(await g?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await O.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){let o=await O.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(o?.allowance&&n&&r){let s=g.parseUnits(n,r)||0;return BigInt(o.allowance)>=s}return!1},async getMyTokensWithBalance(e){let t=await Je.getMyTokensWithBalance(e);return c.setAccountProp("tokenBalance",t,c.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>T(p({},t),{address:t?.address?t.address:gt(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{let t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}}});var P,Hr,U,Jn=w(()=>{"use strict";J();se();Z();Z();it();It();Ge();ye();de();qn();Ne();te();Me();De();Ke();rt();P=b({tokenBalances:[],loading:!1}),Hr={state:P,subscribe(e){return H(P,()=>e(P))},subscribeKey(e,t){return V(P,e,t)},setToken(e){e&&(P.token=Oe(e))},setTokenAmount(e){P.sendTokenAmount=e},setReceiverAddress(e){P.receiverAddress=e},setReceiverProfileImageUrl(e){P.receiverProfileImageUrl=e},setReceiverProfileName(e){P.receiverProfileName=e},setNetworkBalanceInUsd(e){P.networkBalanceInUSD=e},setLoading(e){P.loading=e},getSdkEventProperties(e){return{message:N.parseError(e),isSmartAccount:me(c.state.activeChain)===ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:P.token?.symbol||"",amount:P.sendTokenAmount??0,network:c.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(U.setLoading(!0),c.state.activeCaipNetwork?.chainNamespace){case"eip155":await U.sendEvmToken();return;case"solana":await U.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw he.isUserRejectedRequestError(e)?new et(e):e}finally{U.setLoading(!1)}},async sendEvmToken(){let e=c.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");let t=me(e);if(!U.state.sendTokenAmount||!U.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!U.state.token)throw new Error("A token is required");if(U.state.token?.address){M.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:U.state.token.address,amount:U.state.sendTokenAmount,network:c.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:n}=await U.sendERC20Token({receiverAddress:U.state.receiverAddress,tokenAddress:U.state.token.address,sendTokenAmount:U.state.sendTokenAmount,decimals:U.state.token.quantity.decimals});n&&(P.hash=n)}else{M.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:U.state.token.symbol||"",amount:U.state.sendTokenAmount,network:c.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:n}=await U.sendNativeToken({receiverAddress:U.state.receiverAddress,sendTokenAmount:U.state.sendTokenAmount,decimals:U.state.token.quantity.decimals});n&&(P.hash=n)}},async fetchTokenBalance(e){P.loading=!0;let t=c.state.activeChain,n=c.state.activeCaipNetwork?.caipNetworkId,r=c.state.activeCaipNetwork?.chainNamespace,o=c.getAccountData(t)?.caipAddress??c.state.activeCaipAddress,s=o?N.getPlainAddress(o):void 0;if(P.lastRetry&&!N.isAllowedRetry(P.lastRetry,30*$.ONE_SEC_MS))return P.loading=!1,[];try{if(s&&n&&r){let a=await Je.getMyTokensWithBalance();return P.tokenBalances=a,P.lastRetry=void 0,a}}catch(a){P.lastRetry=Date.now(),e?.(a),Ue.showError("Token Balance Unavailable")}finally{P.loading=!1}return[]},fetchNetworkBalance(){if(P.tokenBalances.length===0)return;let e=jn.mapBalancesToSwapTokens(P.tokenBalances);if(!e)return;let t=e.find(n=>n.address===gt());t&&(P.networkBalanceInUSD=t?Ot.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){v.pushTransactionStack({});let t=e.receiverAddress,n=c.getAccountData()?.address,r=g.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),s=await g.sendTransaction({chainNamespace:_.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return M.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:me("eip155")===ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:U.state.token?.symbol||"",amount:e.sendTokenAmount,network:c.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),g._getClient()?.updateBalance("eip155"),U.resetSend(),{hash:s}},async sendERC20Token(e){v.pushTransactionStack({onSuccess(){v.replace("Account")}});let t=g.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=c.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let r=N.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");let o=await g.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:vt.getERC20Abi(r),chainNamespace:_.CHAIN.EVM});return M.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:me("eip155")===ee.ACCOUNT_TYPES.SMART_ACCOUNT,token:U.state.token?.symbol||"",amount:e.sendTokenAmount,network:c.state.activeCaipNetwork?.caipNetworkId||"",hash:o||""}}),U.resetSend(),{hash:o}}return{hash:void 0}},async sendSolanaToken(){if(!U.state.sendTokenAmount||!U.state.receiverAddress)throw new Error("An amount and receiver address are required");v.pushTransactionStack({onSuccess(){v.replace("Account")}});let e;U.state.token&&U.state.token.address!==$.SOLANA_NATIVE_TOKEN_ADDRESS&&(N.isCaipAddress(U.state.token.address)?e=N.getPlainAddress(U.state.token.address):e=U.state.token.address);let t=await g.sendTransaction({chainNamespace:"solana",tokenMint:e,to:U.state.receiverAddress,value:U.state.sendTokenAmount});t&&(P.hash=t),g._getClient()?.updateBalance("solana"),M.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:U.state.token?.symbol||"",amount:U.state.sendTokenAmount,network:c.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),U.resetSend()},resetSend(){P.token=void 0,P.sendTokenAmount=void 0,P.receiverAddress=void 0,P.receiverProfileImageUrl=void 0,P.receiverProfileName=void 0,P.loading=!1,P.tokenBalances=[]}},U=z(Hr)});var jt,Rt,u,Xn,c,te=w(()=>{"use strict";J();se();Z();In();It();ye();de();Re();Ne();Gn();Me();Ae();De();lt();pe();Yn();Vt();Jn();rt();jt={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Rt={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},u=b({chains:Sn(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),Xn={state:u,subscribe(e){return H(u,()=>{e(u)})},subscribeKey(e,t){return V(u,e,t)},subscribeAccountStateProp(e,t,n){let r=n||u.activeChain;return r?V(u.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return H(u.chains,()=>{let o=n||u.activeChain;if(o){let s=u.chains.get(o)?.[e];r!==s&&(r=s,t(s))}})},initialize(e,t,n){let{chainId:r,namespace:o}=C.getActiveNetworkProps(),s=t?.find(f=>f.id.toString()===r?.toString()),i=e.find(f=>f?.namespace===o)||e?.[0],l=e.map(f=>f.namespace).filter(f=>f!==void 0),d=R.state.enableEmbedded?new Set([...l]):new Set([...t?.map(f=>f.chainNamespace)??[]]);(e?.length===0||!i)&&(u.noAdapters=!0),u.noAdapters||(u.activeChain=i?.namespace,u.activeCaipNetwork=s,c.setChainNetworkData(i?.namespace,{caipNetwork:s}),u.activeChain&&ve.set({activeChain:i?.namespace})),d.forEach(f=>{let m=t?.filter(Q=>Q.chainNamespace===f),j=C.getPreferredAccountTypes()||{},Ie=p(p({},R.state.defaultAccountTypes),j);c.state.chains.set(f,p({namespace:f,networkState:b(T(p({},Rt),{caipNetwork:m?.[0]})),accountState:b(T(p({},jt),{preferredAccountType:Ie[f]})),caipNetworks:m??[]},n)),c.setRequestedCaipNetworks(m??[],f)})},removeAdapter(e){if(u.activeChain===e){let t=Array.from(u.chains.entries()).find(([n])=>n!==e);if(t){let n=t[1]?.caipNetworks?.[0];n&&c.setActiveCaipNetwork(n)}}u.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");u.chains.set(e.namespace,{namespace:e.namespace,networkState:T(p({},Rt),{caipNetwork:n[0]}),accountState:p({},jt),caipNetworks:n,connectionControllerClient:t}),c.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=u.chains.get(e.chainNamespace);if(t){let n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),u.chains.set(e.chainNamespace,T(p({},t),{caipNetworks:n})),c.setRequestedCaipNetworks(n,e.chainNamespace),S.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let n=u.chains.get(e);if(n){let r=u.activeCaipNetwork?.id===t,o=[...n.caipNetworks?.filter(s=>s.id!==t)||[]];r&&n?.caipNetworks?.[0]&&c.setActiveCaipNetwork(n.caipNetworks[0]),u.chains.set(e,T(p({},n),{caipNetworks:o})),c.setRequestedCaipNetworks(o||[],e),o.length===0&&S.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let n=u.chains.get(e);n&&(n.networkState=p(p({},n.networkState||Rt),t),u.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");let r=u.chains.get(e);if(r){let o=p(p({},r.accountState||jt),t);u.chains.set(e,T(p({},r),{accountState:o})),(u.chains.size===1||u.activeChain===e)&&t.caipAddress&&(u.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let n=u.chains.get(e);if(n){let r=p(p({},n.networkState||Rt),t);u.chains.set(e,T(p({},n),{networkState:r}))}},setAccountProp(e,t,n,r=!0){c.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){u.activeChain=e;let t=e?u.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(u.activeCaipAddress=t?.accountState?.caipAddress,u.activeCaipNetwork=n,c.setChainNetworkData(e,{caipNetwork:n}),C.setActiveCaipNetworkId(n?.caipNetworkId),ve.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=u.activeChain===e.chainNamespace;t||c.setIsSwitchingNamespace(!0);let n=u.chains.get(e.chainNamespace);u.activeChain=e.chainNamespace,u.activeCaipNetwork=e,c.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)u.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&u.activeCaipAddress){let{address:s}=oe.parseCaipAddress(u.activeCaipAddress);r=s,u.activeCaipAddress=`${e.caipNetworkId}:${r}`}else u.activeCaipAddress=void 0;c.setChainAccountData(e.chainNamespace,{address:r,caipAddress:u.activeCaipAddress}),U.resetSend(),ve.set({activeChain:u.activeChain,selectedNetworkId:u.activeCaipNetwork?.caipNetworkId}),C.setActiveCaipNetworkId(e.caipNetworkId),!c.checkIfSupportedNetwork(e.chainNamespace)&&R.state.enableNetworkSwitch&&!R.state.allowUnsupportedChain&&!g.state.wcBasic&&c.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=u.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==c.state.activeChain,n=c.getNetworkData(e)?.caipNetwork,r=c.getCaipNetworkByNamespace(e,n?.id);t&&r&&await c.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let n=c.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");let r=$n.getProviderId(u.activeChain)==="AUTH",o=c.getAccountData(n)?.address,s=_.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(o&&e.chainNamespace===n||r&&s){let a=Kn.get(e.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:e})}c.setActiveCaipNetwork(e)}catch(a){if(t)throw a}M.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||u.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");let n=u.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){let n=u.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){let t=u.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return N.sortRequestedNetworks(n,r).filter(a=>a?.id)},getAllRequestedCaipNetworks(){let e=[];return u.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let n=c.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){c.setAdapterNetworkState(t,{requestedCaipNetworks:e});let r=c.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),o=Array.from(new Set(r));S.filterByNamespaces(o)},getAllApprovedCaipNetworkIds(){let e=[];return u.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let n=c.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?u.chains.get(e)?.networkState?.caipNetwork:u.activeCaipNetwork},getActiveCaipAddress(){return u.activeCaipAddress},getApprovedCaipNetworkIds(e){return u.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){c.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let n=t||u.activeCaipNetwork?.caipNetworkId,r=c.getRequestedCaipNetworks(e);return r.length?r?.some(o=>o.caipNetworkId===n):!0},checkIfSupportedChainId(e){return u.activeChain?c.getRequestedCaipNetworks(u.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){let e=yt.caipNetworkIdToNumber(u.activeCaipNetwork?.caipNetworkId);return!u.activeChain||!e?!1:!!(Ye.get(Ce.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){K.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=u.activeCaipNetwork;return!!(e?.chainNamespace&&$.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){c.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){let t=e;if(!t)throw new Error("Chain is required to set account prop");let n=c.state.chains.get(t)?.accountState?.preferredAccountType,r=R.state.defaultAccountTypes[t];u.activeCaipAddress=void 0,c.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),S.removeConnectorId(t)},setIsSwitchingNamespace(e){u.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[],t;if(u.chains.forEach(n=>{_.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){let n=e[0];return t=n?u.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){let t=e||u.activeChain;if(t)return c.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||u.activeChain;if(t)return c.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let n=c.state.chains.get(e),r=n?.caipNetworks?.find(o=>o.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=S.state.filterByNamespace;return(e?[u.chains.get(e)]:Array.from(u.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?c.getRequestedCaipNetworks(e):c.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return Xn.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){u.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return u.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){let t=c.getAccountData();if(!t)return[];let n=c.state.activeCaipNetwork?.caipNetworkId,r=c.state.activeCaipNetwork?.chainNamespace,o=c.state.activeCaipAddress,s=o?N.getPlainAddress(o):void 0;if(c.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!N.isAllowedRetry(t.lastRetry,30*$.ONE_SEC_MS))return c.setAccountProp("balanceLoading",!1,r),[];try{if(s&&n&&r){let a=await Je.getMyTokensWithBalance();return c.setAccountProp("tokenBalance",a,r),c.setAccountProp("lastRetry",void 0,r),c.setAccountProp("balanceLoading",!1,r),a}}catch(a){c.setAccountProp("lastRetry",Date.now(),r),e?.(a),Ue.showError("Token Balance Unavailable")}finally{c.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,n=!!c.getAccountData(t)?.caipAddress,r=c.getAllApprovedCaipNetworkIds(),o=c.getNetworkProp("supportsAllNetworks",t)!==!1,s=S.getConnectorId(t),a=S.getAuthConnector(),i=s===_.CONNECTOR_ID.AUTH&&a;return!n||o||i?!1:!r?.includes(e.caipNetworkId)}},c=z(Xn)});var Vr,zn,le,O,wt=w(()=>{"use strict";J();ye();de();st();Re();te();pe();rt();Vr={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},zn=N.getBlockchainApiUrl(),le=b({clientId:null,api:new Ee({baseUrl:zn,clientId:null}),supportedChains:{http:[],ws:[]}}),O={state:le,async get(e){let{st:t,sv:n}=O.getSdkProperties(),r=R.state.projectId,o=T(p({},e.params||{}),{st:t,sv:n,projectId:r});return le.api.get(T(p({},e),{params:o}))},getSdkProperties(){let{sdkType:e,sdkVersion:t}=R.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{le.supportedChains.http.length||await O.getSupportedNetworks()}catch{return!1}return le.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await O.get({path:"v1/supported-chains"});return le.supportedChains=e,e}catch{return le.supportedChains}},async fetchIdentity({address:e}){let t=C.getIdentityFromCacheForAddress(e);if(t)return t;let n=await O.get({path:`/v1/identity/${e}`,params:{sender:c.state.activeCaipAddress?N.getPlainAddress(c.state.activeCaipAddress):void 0}});return C.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:o}){if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let a=C.getTransactionsCacheForAddress({address:e,chainId:o});if(a)return a;let i=await O.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:o},signal:n,cache:r});return C.updateTransactionsCache({address:e,chainId:o,timestamp:Date.now(),transactions:i}),i},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:o}){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?O.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:o}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?O.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let n=C.getTokenPriceCacheForAddresses(e);if(n)return n;let r=await le.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:R.state.projectId},headers:{"Content-Type":"application/json"}});return C.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?O.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){let{st:t,sv:n}=O.getSdkProperties();if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return O.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:o}){if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return le.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:$.CONVERT_SLIPPAGE_TOLERANCE},projectId:R.state.projectId,from:t,to:n,userAddress:r,disableEstimate:o}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){let{st:r,sv:o}=O.getSdkProperties();if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return O.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:o}})},async getBalance(e,t,n){let{st:r,sv:o}=O.getSdkProperties();if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))return Ue.showError("Token Balance Unavailable"),{balances:[]};let a=`${t}:${e}`,i=C.getBalanceCacheForCaipAddress(a);if(i)return i;let l=await O.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:o}});return C.updateBalanceCache({caipAddress:a,balance:l,timestamp:Date.now()}),l},async lookupEnsName(e){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?O.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))return[];let n=c.getAccountData()?.address;return O.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?O.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?le.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:o}){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?(await le.api.post({path:"/v1/generators/onrampurl",params:{projectId:R.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:o}})).url:""},async getOnrampOptions(){if(!await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await O.get({path:"/v1/onramp/options"})}catch{return Vr}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?await le.api.post({path:"/v1/onramp/quote",params:{projectId:R.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?O.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await O.isNetworkSupported(c.state.activeCaipNetwork?.caipNetworkId)?le.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:R.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){le.clientId=e,le.api=new Ee({baseUrl:zn,clientId:e})}}});export{_ as a,yt as b,Ot as c,oe as d,he as e,et as f,E as g,h,ze as i,Z as j,b as k,H as l,J as m,V as n,se as o,wo as p,_o as q,$ as r,ye as s,C as t,Re as u,N as v,de as w,ee as x,gn as y,wn as z,R as A,pe as B,Ue as C,rt as D,O as E,wt as F,it as G,Ve as H,z as I,Ne as J,ae as K,Wt as L,vn as M,kn as N,M as O,De as P,I as Q,ct as R,v as S,Ke as T,dt as U,Mn as V,S as W,Ae as X,gt as Y,me as Z,Ii as _,Ge as $,Gt as aa,Bn as ba,g as ca,Me as da,Je as ea,It as fa,Kn as ga,Gn as ha,$n as ia,Yn as ja,ve as ka,Vt as la,jn as ma,qn as na,U as oa,Jn as pa,c as qa,te as ra,K as sa,lt as ta};
